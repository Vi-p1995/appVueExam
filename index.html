<!DOCTYPE html>
<html lang="en" dir="ltr">
  <link href="style.css" rel="stylesheet"></link>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <div id='app' v-cloak>
      <div v-if='!currentUser'>
        <button @click='status="signup"'>Signup</button>
        <button @click='status="login"'>Login</button>
        <br>
        <input v-if='status=="signup"' v-model='newUser.name' type="text" placeholder="name" />
        <input v-if='status=="signup"' v-model='newUser.surname' type="text" placeholder="surname" />
        <input v-if='status=="login" || status=="signup"' v-model='newUser.email' type="email" placeholder="email" />
        <input v-if='status=="login" || status=="signup"' v-model='newUser.password' type="password" placeholder="password" />
        <button type="button" @click='status == "signup" ? signup():login()' >{{ status == "signup" ? "Signup":"Login"}}</button>
        <p v-if='errorMessage'>{{errorMessage}}</p>
      </div>
      <div v-if='currentUser'>
          <button @click='logout()'>Logout</button>
          Benvenuto {{currentUser.name}}
          </div>

          <div>
            <h1>Transaction</h1>
            <label >Iban</label>
            <input type="text" v-model="transaction.iban" placeholder="iban">
            <label >amount</label>
            <input type="text" v-model="transaction.amount" placeholder="amount">
            <button type="button" @click="sendTransaction">Send Money</button>
          </div>
          <span style="font-size:30px" v-if="responseTransaction">SuccessFully Send</span>

      </div>

  </body>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-resource/dist/vue-resource.js"></script>
  <script src="app.js"></script>
</html>
